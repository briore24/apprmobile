<card-group datasource="{page.state.selectedDS}" can-sort="true" show-refresh="true" disconnected="{!app.state.networkConnected}" refresh-disconnected-message="This feature is not available while offline" enable-barcode-scanner="true" readers="{[`ean_reader`]}" timeout="{45}" hide-count-search="{(page.state.selectedSwitch===1)}" id="jgyq6" card-click="showWODetail">
  <filter-button slot="actions" kind="ghost" datasource="{page.state.selectedDS}" id="djzbd"/>
  <multi-sort-button slot="actions" kind="ghost" datasource="{page.state.selectedDS}" icon="Carbon:caret--sort" id="m2bpv"/>
  <common-card-template chevron-kind="{index === 0 ? item.computedTimerStatus ? app.state.highlightStop  ?  'ghost' : 'primary' : 'ghost' : 'ghost'}" slot="item" show-chevron="true" on-chevron-click="showWODetail" on-chevron-click-arg="{item}" id="cardtemplate1">
    <wrapped-text size="large" slot="slot1" max-length="100" label="{item.computedWorkTitle}" sub-label="{item.worktype}" id="n942w"/>
    <tag-group slot="slot2" wrap="true" max-tag-width="{app.state.screen.size !== 'sm' &amp;&amp; app.state.screen.size !== 'md' ? 300 : 200}" align="end" tags="{item.computedWOStatusPriority}" id="vadn6"/>
    <box slot="slot3" manage-children="false" id="mbj24">
      <icon fill="red" icon="carbon:warning--alt--filled" hidden="{item.actfinish || (!item.computedIsOverDue || !item.schedfinish)}" id="b38em"/>
      <date-relative value="{item.schedfinish}" type="date_full_month" text-prefix="Overdue since" theme="error" hidden="{item.actfinish || (!item.computedIsOverDue || !item.schedfinish)}" id="qj_467"/>
      <date-relative value="{item.schedfinish}" type="date_full_month" text-prefix="Due" hidden="{item.actfinish || (item.computedIsOverDue || !item.schedfinish)}" id="qj_43"/>
      <date-relative value="{item.actfinish}" type="date_full_month" text-prefix="Work completed" theme="default" hidden="{!(item.status === 'COMP' ||  item.status === 'CAN') &amp;&amp; (!item.actfinish)}" id="qj_577"/>
    </box>
    <box slot="slot4" direction="column" fill-parent="true" hidden="{item.computedIsAssetLoc}" children-sizes="50,50" id="jn55d">
      <box direction="row" padding-top=".5" padding-bottom=".5" hidden="{!item.assetnumber || item.pluscloop}" children-sizes="5,95" id="jn05d">
        <box id="aan8m" fill-parent="true" padding="0">
          <icon icon="carbon:asset" id="w5a20"/>
        </box>
        <box id="k8tbm" fill-parent="true" direction="column">
          <label label="{item.assetnumber}" padding="none" id="y8vqr"/>
          <wrapped-text size="medium" padding="none" max-length="250" label="{item.assetdesc}" id="n2z6k"/>
          <label label="Asset" color="text-05" theme="14-regular" padding="none" id="n8k8m"/>
        </box>
      </box>
      <box direction="row" fill-parent="true" hidden="{!item.locationnum}" padding-top=".5" padding-bottom=".5" children-sizes="5,95" id="jn53d">
        <box fill-parent="true" id="aan8k">
          <icon icon="carbon:location" id="w5a25"/>
        </box>
        <box fill-parent="true" id="k8gbm" direction="column">
          <label label="{item.locationnum}" padding="none" id="pyp6r"/>
          <wrapped-text size="medium" padding="none" max-length="250" label="{item.locationdesc}" id="peb34"/>
          <label label="{item.pluscloop == true ? 'Loop Location' : 'Location'}" color="text-05" theme="14-regular" padding="none" id="wzaxz"/>
        </box>
      </box>
    </box>
    <box slot="slot5" fill-parent="true" padding-top=".5" direction="row" hidden="{!(item.formattedaddress || item.serviceaddressdesc)}" children-sizes="5,95" id="jv55d">
      <box id="aav8m">
        <icon icon="carbon:map" id="w5v20"/>
      </box>
      <field wrap="true" values-top-padding="false" label="Service Address" padding="bottom" value="{item.formattedaddress ? item.formattedaddress : item.serviceaddressdesc }" id="ymjv9"/>
    </box>
    <button-group wrap="true" padding="false" slot="slot6" id="bxek9">
      <button kind="secondary" icon="carbon:location-hazard" on-click="openHazardDrawer" on-click-arg="{{'item': item, 'datasource': wodetails}}" hidden="{!item.wohazardcount}" tag-value="{item.wohazardcount}" tag-type="dark-gray" id="bnprm"/>
      <button kind="secondary" icon="maximo:materialsandtools" on-click="openDrawer" on-click-arg="{{'item': item, 'datasource': wodetails}}" hidden="{item.computedDisableButton}" id="br_wn"/>
      <button kind="secondary" icon="carbon:map" hidden="{!item.autolocate || !app.state.isMapValid}" on-click="openMapPage" on-click-arg="{{'item': item, 'prevPage': 'schedulecardlist'}}" id="jya7d"/>
      <button kind="secondary" icon="carbon:document" loading="{item.wonum === page.state.currentItem &amp;&amp; page.state.chatLogLoading}" on-click="openWorkLogDrawer" on-click-arg="{{'item': item}}" id="eyw9b"/>
      <button kind="secondary" icon="carbon:operation--gauge" on-click="openMeterReadingDrawer" hidden="{(!item.assetmetercount &amp;&amp; !item.locationmetercount)}" on-click-arg="{{'item': item}}" disabled="{!app.checkSigOption(`${app.state.woOSName}.ENTERREADINGS`)}" id="vqxv2"/>
      <button kind="secondary" icon="carbon:study--previous" loading="{item.wonum === page.state.currentItem &amp;&amp; app.state.assignmentLoading}" on-click="openReassignmentDialog" on-click-arg="{{'item': item, 'datasource': wodetails}}" tag-type="dark-gray" hidden="{['COMP', 'CAN', 'CLOSE'].includes(item.status_maxvalue) || !app.checkSigOption(`${app.state.woOSName}.ALLOWREASSIGNMENT`)}" id="reassignment_list"/>
    </button-group>
    <button-group slot="slot7" id="kvd2r" padding="false" align="end" hidden="{item.computedWorkTypeStatus || !item.computedShowAssignment || item.isRejected}">
      <button label="Start work" loading="{(item.wonum === page.state.currentItem || app.state.showLoaderOnAllWO) &amp;&amp; (page.state.workloading || page.state.transactionProgress)}" icon="carbon:play" kind="{index===0 ? page.state.firstLogin ? page.state.isMatAndToolAvail ? 'secondary':'primary' : 'primary' :'secondary'}" hidden="{(item.status_maxvalue === 'INPRG' &amp;&amp; app.state.systemProp['maximo.mobile.usetimer'] === '0') || app.state.systemProp['maximo.mobile.usetimer'] === '1' || item.computedTimerStatus || item.status_maxvalue ==='WAPPR' || item.status_maxvalue === 'COMP' || item.status_maxvalue === 'CAN' || item.status_maxvalue === 'CLOSE' || page.state.enableSignatureButton}" on-click="startStopTimer" on-click-arg="{{'item': item, 'datasource': wodetails, 'action': 'start','worktype':'work'}}" id="g4wzk"/>
      <button label="Start work" loading="{(item.wonum === page.state.currentItem || app.state.showLoaderOnAllWO) &amp;&amp; (page.state.workloading || page.state.transactionProgress)}" icon="maximo:start-work" kind="{index===0 ? page.state.firstLogin ? page.state.isMatAndToolAvail ? 'secondary':'primary' : 'primary' :'secondary'}" hidden="{(item.status_maxvalue === 'INPRG' &amp;&amp; app.state.systemProp['maximo.mobile.usetimer'] === '0') || app.state.systemProp['maximo.mobile.usetimer'] === '0' || item.computedTimerStatus || item.status_maxvalue ==='WAPPR' || item.status_maxvalue === 'COMP' || item.status_maxvalue === 'CAN' || item.status_maxvalue === 'CLOSE' || page.state.enableSignatureButton}" on-click="startStopTimer" on-click-arg="{{'item': item, 'datasource': wodetails, 'action': 'start','worktype':'work'}}" id="g3wzk"/>
      <button label="Start work" loading="{(item.wonum === page.state.currentItem || app.state.showLoaderOnAllWO) &amp;&amp; (page.state.workloading || page.state.transactionProgress)}" icon="carbon:play" kind="{index===0 ? page.state.firstLogin ? page.state.isMatAndToolAvail ? 'secondary':'primary' : 'primary' :'secondary'}" hidden="{(item.status_maxvalue === 'INPRG' &amp;&amp; app.state.systemProp['maximo.mobile.usetimer'] === '0') || app.state.systemProp['maximo.mobile.usetimer'] === '1' || item.computedTimerStatus || item.status_maxvalue ==='WAPPR' || item.status_maxvalue === 'COMP' || item.status_maxvalue === 'CAN' || item.status_maxvalue === 'CLOSE' || !page.state.enableSignatureButton}" on-click="openSignatureDialog" on-click-arg="{{'item': item, 'datasource': wodetails, 'action': 'start','worktype':'work'}}" id="e58w9"/>
      <button label="Start work" loading="{(item.wonum === page.state.currentItem || app.state.showLoaderOnAllWO) &amp;&amp; (page.state.workloading || page.state.transactionProgress)}" icon="maximo:start-work" kind="{index===0 ? page.state.firstLogin ? page.state.isMatAndToolAvail ? 'secondary':'primary' : 'primary' :'secondary'}" hidden="{(item.status_maxvalue === 'INPRG' &amp;&amp; app.state.systemProp['maximo.mobile.usetimer'] === '0') || app.state.systemProp['maximo.mobile.usetimer'] === '0' || item.computedTimerStatus || item.status_maxvalue ==='WAPPR' || item.status_maxvalue === 'COMP' || item.status_maxvalue === 'CAN' || item.status_maxvalue === 'CLOSE' || !page.state.enableSignatureButton}" on-click="openSignatureDialog" on-click-arg="{{'item': item, 'datasource': wodetails, 'action': 'start','worktype':'work'}}" id="xgwjy"/>
      <button label="Pause work" loading="{(item.wonum === page.state.currentItem || app.state.showLoaderOnAllWO) &amp;&amp; (page.state.workloading || page.state.transactionProgress)}" icon="carbon:pause" kind="secondary" hidden="{(item.status_maxvalue === 'INPRG' &amp;&amp; app.state.systemProp['maximo.mobile.usetimer'] === '0') || !(item.computedTimerStatus) || item.status_maxvalue ==='WAPPR' || item.status_maxvalue === 'COMP' || item.status_maxvalue === 'CAN' || item.status_maxvalue === 'CLOSE'}" on-click="startStopTimer" on-click-arg="{{'item': item, 'datasource': wodetails, 'action': 'pause'}}" id="k2_q3"/>
      <button label="Stop work" loading="{(item.wonum === page.state.currentItem || app.state.showLoaderOnAllWO) &amp;&amp; (page.state.workloading || page.state.transactionProgress)}" icon="carbon:stop" kind="{ app.state.systemProp['mxe.mobile.travel.radius'] === '0' &amp;&amp; app.state.systemProp['mxe.mobile.travel.prompt'] === '1' ? 'secondary' : index === 0 ? app.state.highlightStop ? page.state.firstLogin ? page.state.isMatAndToolAvail ? 'secondary':'primary'  : 'primary' : 'secondary' : 'secondary'}" hidden="{(item.status_maxvalue === 'INPRG' &amp;&amp; app.state.systemProp['maximo.mobile.usetimer'] === '0') || !(item.computedTimerStatus) || item.status_maxvalue ==='WAPPR' || item.status_maxvalue === 'COMP' || item.status_maxvalue === 'CAN' || item.status_maxvalue === 'CLOSE'}" on-click="startStopTimer" on-click-arg="{{'item': item, 'datasource': wodetails, 'action': 'stop', actionType: 'work'}}" id="nxea3"/>
      <button label="View" icon="carbon:view" kind="{index===0 ? page.state.firstLogin ? 'secondary' : 'primary' :'secondary'}" hidden="{!(item.status_maxvalue === 'INPRG' &amp;&amp; app.state.systemProp['maximo.mobile.usetimer'] === '0')}" on-click="showWODetail" on-click-arg="{item}" id="y7amk"/>
    </button-group>
    <button-group slot="slot7" padding="false" align="end" id="a32r8" hidden="{item.computedShowAssignment || item.isRejected}">
      <button label="Reject" loading="{item.wonum === page.state.currentItem &amp;&amp; page.state.workloading}" icon="maximo:assignment--reject" kind="danger" on-click="rejectWO" on-click-arg="{{'item': item}}" id="woReject"/>
      <button label="Accept" loading="{item.wonum === page.state.currentItem &amp;&amp; page.state.workloading}" icon="carbon:user--admin" kind="primary" on-click="approveWO" on-click-arg="{{'item': item}}" id="woAccept"/>
    </button-group>
    <button-group slot="slot7" padding="false" align="end" hidden="{!item.computedWorkTypeStatus || !item.computedShowAssignment || item.isRejected}" id="mj7e5">
      <button label="Start travel" loading="{item.wonum === page.state.currentItem &amp;&amp; (page.state.workloading || page.state.transactionProgress)}" icon="carbon:road" kind="{index===0 ? page.state.firstLogin ? 'secondary' : 'primary':'secondary'}" hidden="{item.computedTimerStatus || item.status_maxvalue ==='WAPPR' || item.status_maxvalue === 'COMP' || item.status_maxvalue === 'CAN' || item.status_maxvalue === 'CLOSE'}" on-click="startStopTimer" on-click-arg="{{'item': item, 'datasource': wodetails, 'action': 'start','worktype':'travel'}}" id="meerd"/>
      <button label="Pause travel" loading="{item.wonum === page.state.currentItem &amp;&amp; (page.state.workloading || page.state.transactionProgress)}" icon="carbon:pause" kind="secondary" hidden="{!(item.computedTimerStatus) || item.status_maxvalue ==='WAPPR' || item.status_maxvalue === 'COMP' || item.status_maxvalue === 'CAN' || item.status_maxvalue === 'CLOSE'}" on-click="startStopTimer" on-click-arg="{{'item': item, 'datasource': wodetails, 'action': 'pause', actionType: 'travel'}}" id="q9q5m"/>
      <button label="Stop travel" loading="{item.wonum === page.state.currentItem &amp;&amp; (page.state.workloading || page.state.transactionProgress)}" icon="carbon:stop" kind="{index === 0 ? page.state.firstLogin ? 'secondary' : 'primary':'secondary'}" hidden="{!(item.computedTimerStatus) || item.status_maxvalue ==='WAPPR' || item.status_maxvalue === 'COMP' || item.status_maxvalue === 'CAN' || item.status_maxvalue === 'CLOSE'}" on-click="startStopTimer" on-click-arg="{{'item': item, 'datasource': wodetails, 'action': 'stop', actionType: 'travel'}}" id="mqjbg"/>
      <button label="Start work" loading="{(item.wonum === page.state.currentItem || app.state.showLoaderOnAllWO) &amp;&amp; (page.state.workloading || page.state.transactionProgress)}" icon="maximo:start-work" kind="{ app.state.systemProp['mxe.mobile.travel.radius'] === '0' &amp;&amp; app.state.systemProp['mxe.mobile.travel.prompt'] === '1' ? 'secondary' : index===0 ? page.state.firstLogin ? page.state.isMatAndToolAvail ? 'secondary':'primary' : 'primary' :'secondary'}" hidden="{!(app.state.systemProp['mxe.mobile.travel.radius'] === '0') || item.computedTimerStatus || item.status_maxvalue ==='WAPPR' || item.status_maxvalue === 'COMP' || item.status_maxvalue === 'CAN' || item.status_maxvalue === 'CLOSE'}" on-click="startStopTimer" on-click-arg="{{'item': item, 'datasource': wodetails, 'action': 'start','worktype':'work'}}" id="xwmw7"/>
    </button-group>
  </common-card-template>
</card-group>